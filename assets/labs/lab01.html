<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>CITS3007 lab 1 – Development environment</title>
  <style>
html {
line-height: 1.5;
font-family: sans serif;
font-size: 12pt;
color: black;
background-color: white;
}
body {
margin: 0 auto;
max-width: 50em;
padding-left: 50px;
padding-right: 50px;
padding-top: 50px;
padding-bottom: 50px;
hyphens: auto;
overflow-wrap: break-word;
text-rendering: optimizeLegibility;
font-kerning: normal;
}
@media (max-width: 600px) {
body {
font-size: 0.9em;
padding: 1em;
}
h1 {
font-size: 1.8em;
}
}
@media print {
body {
background-color: transparent;
color: black;
font-size: 12pt;
}
p, h2, h3 {
orphans: 3;
widows: 3;
}
h2, h3, h4 {
page-break-after: avoid;
}
}
p {
margin: 1em 0;
}
img {
max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
margin-top: 1.4em;
}
h5, h6 {
font-size: 1em;
font-style: italic;
}
h6 {
font-weight: normal;
}
ol, ul {
padding-left: 1.7em;
margin-top: 1em;
}
li > ol, li > ul {
margin-top: 0;
}
blockquote {
margin: 1em 0 1em 1.7em;
padding-left: 1em;
border-left: 2px solid #e6e6e6;
color: #606060;
}
code {
font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
background-color: hsl(0, 0%, 98%);
padding: .2em .4em;
font-size: 85%;
margin: 0;
}
pre {
margin: 1em 0;
background-color: hsl(0, 0%, 98%);
padding: 1em;
overflow: auto;
}
pre code {
padding: 0;
overflow: visible;
overflow-wrap: normal;
}

:not(pre) > code {
padding: 2px 4px;
font-size: 90%;
word-break: normal !important;
white-space: nowrap;
color: hsl(344.8,69%,10%);
background-color: hsl(342.9,37%,96%);
border-radius: 4px;
}
.sourceCode {
background-color: hsl(0, 0%, 98%);
overflow: visible;
}
hr {
background-color: #1a1a1a;
border: none;
height: 1px;
margin: 1em 0;
}
table {
margin: 1em 0;
border-collapse: collapse;
width: 100%;
overflow-x: auto;
display: block;
font-variant-numeric: lining-nums tabular-nums;
}
table caption {
margin-bottom: 0.75em;
}
tbody {
margin-top: 0.5em;
border-top: 1px solid black;
border-bottom: 1px solid black;
}
th {
border-top: 1px solid black;
padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
margin-bottom: 4em;
text-align: center;
}
#TOC li {
list-style: none;
}
#TOC ul {
padding-left: 1.3em;
}
#TOC > ul {
padding-left: 0;
}
#TOC a:not(:hover) {
text-decoration: none;
}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
</style>
  <style>
div.solutions {
border: solid 2pt hsla(120, 100%, 35%, 1);
border-radius: 5pt;
background-color: hsla(120, 100%, 50%, 0.1);
padding: 1em;
}
</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title"><p>CITS3007 lab 1 – Development environment</p></h1>
</header>
<nav id="TOC" role="doc-toc">
<h2 id="toc-title">Contents</h2>
<ul>
<li><a href="#c-devel-env" id="toc-c-devel-env">1. Setting up the C
development environment</a>
<ul>
<li><a href="#virtualbox-and-vagrant" id="toc-virtualbox-and-vagrant">VirtualBox and Vagrant</a></li>
<li><a href="#using-gitpod" id="toc-using-gitpod">Using GitPod</a></li>
</ul></li>
<li><a href="#concept-review-questions" id="toc-concept-review-questions">2. Concept review questions</a>
<ul>
<li><a href="#definitions" id="toc-definitions">2.1.
Definitions</a></li>
<li><a href="#concepts" id="toc-concepts">2.2. Concepts</a></li>
</ul></li>
<li><a href="#auscert-security-bulletins" id="toc-auscert-security-bulletins">3. AusCERT security
bulletins</a></li>
<li><a href="#c-development" id="toc-c-development">4. C development</a>
<ul>
<li><a href="#c-questions" id="toc-c-questions">4.1. C
questions</a></li>
<li><a href="#cloning-from-git-and-modifying-c-programs" id="toc-cloning-from-git-and-modifying-c-programs">4.2. Cloning from
<code>git</code> and modifying C programs</a></li>
<li><a href="#using-version-control-and-backing-up" id="toc-using-version-control-and-backing-up">4.3. Using version control
and backing up</a></li>
</ul></li>
<li><a href="#moodle-signup-andor-login" id="toc-moodle-signup-andor-login">5. Moodle signup and/or
login</a></li>
</ul>
</nav>
<div style="border: solid 2pt orange; border-radius: 5pt; background-color: hsl(22.35, 100%, 85%, 1); padding: 1em;">
<p><strong>Laptop requirement</strong></p>
<p>When attending lab classes, you will need access to a laptop, as this
unit makes use of software which is not permitted to be installed on UWA
lab machines.</p>
<p>Any one of a Windows, Linux or Mac OS laptop are acceptable. They
will need enough disk space and RAM to run Oracle <a href="https://www.virtualbox.org">VirtualBox</a> and a virtual machine
instance – 15 spare GB of disk space and 4 GB of RAM would be about the
minimum needed.</p>
</div>
<h2 id="c-devel-env">1. Setting up the C development environment</h2>
<p>To complete the lab work for this unit, you will use a standardised C
development environment – the one we use is based on Ubuntu 20.04.</p>
<p>To access the environment, there are two options:</p>
<ul>
<li>Install two open source tools (<a href="https://www.virtualbox.org">VirtualBox</a> and <a href="https://www.vagrantup.com">Vagrant</a>) on your laptop or home PC.
See <a href="#virtualbox-and-vagrant">VirtualBox and Vagrant</a>,
below.</li>
</ul>
<p>Or alternatively:</p>
<ul>
<li>Access the development environment on the Web using <a href="https://gitpod.io/">GitPod</a> (which provides web-based access to
development environments hosted in the cloud). See <a href="#using-gitpod">Using GitPod</a>, below.</li>
</ul>
<p>For the first couple of labs, <strong>either of these
options</strong> will be fine; but for some of the later labs, you
<em>will</em> need to use <strong>VirtualBox+Vagrant</strong>, so you
should install them now and ensure you can get them working.</p>
<h3 id="virtualbox-and-vagrant">VirtualBox and Vagrant</h3>
<div style="border: solid 2pt blue; background-color: hsla(241, 100%,50%, 0.1); padding: 1em; border-radius: 5pt; margin-top: 1em; margin-bottom: 1em">
<p><strong>What are VirtualBox and Vagrant?</strong></p>
<p><strong>VirtualBox</strong> is a type of <a href="https://en.wikipedia.org/w/index.php?title=Hardware_virtualization">virtualization
software</a> which allows you to run other operating systems on your
computer – even operating systems designed for completely different
hardware (such as mobile phones, for instance). It allows precise
control of what OS <a href="https://en.wikipedia.org/wiki/Kernel_(operating_system)">kernel</a>
is run (we will learn more about what an OS kernel is later). (Other
technologies for running Linux do exist – for instance, Docker and
Windows Subsystem for Linux, or WSL – but they do not allow the precise
control over kernel version that VirtualBox does.)</p>
<p><strong>Vagrant</strong> is a tool for managing virtual environments.
It handles tasks such as</p>
<ul>
<li>fetching virtual machine (VM) <a href="https://en.wikipedia.org/w/index.php?title=Disk_image">images</a>
from the web and installing them in a standard location;</li>
<li>checking whether any updates have been issued for an image, and
prompting the user to download them, if so;</li>
<li>allowing a user to easily manage multiple versions of the same basic
VM image; and</li>
<li>abstracting over the details of particular virtualization
technologies.</li>
</ul>
<p>It’s widely used in industry to provide developers with a Standard
Operating Environment (SOE) for their team or organization, so it’s
hoped that experience with Vagrant will prove useful beyond your
university studies.</p>
<p>Since the purpose of Vagrant is to manage VMs on a computer, vagrant
commands need to be run from the <em>host</em> computer (for instance,
your laptop), not from within a VM.</p>
</div>
<p>To install VirtualBox and Vagrant:</p>
<ol type="1">
<li><p>Visit <a href="https://www.virtualbox.org/wiki/Downloads" class="uri">https://www.virtualbox.org/wiki/Downloads</a>, download the
appropriate VirtualBox package for your platform (Windows, MacOS or
Linux), and install it.</p>
<ul>
<li>On Windows, the installer is an <code>.exe</code> file you can
simply run by double-clicking.</li>
<li>On MacOS, the installer is a <code>.dmg</code> file – double click
on it for instructions.</li>
<li>On Ubuntu distributions a <code>.deb</code> file is provided – we
assume you already know how to install one of these. If you are using a
non-Ubuntu distribution, consult the VirtualBox documentation for
instructions on how to install.</li>
</ul>
<div style="border: solid 2pt orange; border-radius: 5pt; background-color: hsl(22.35, 100%, 85%, 1); padding: 1em; margin-top: 1em;">
<p><strong>VirtualBox for ARM64 (M-series) Macs</strong></p>
<p>If your computer is an ARM64-based (M-series) Macintosh, it may look
as if there are no downloads of VirtualBox available for your computer.
However, there are – they are just a little harder to find.</p>
<p>On July 19th a newer version of VirtualBox was released which hasn’t
yet been ported to the ARM64 architecture – but you <em>can</em> still
use the older version, VirtualBox 7.0.8.</p>
<p>Visit <a href="https://www.virtualbox.org/wiki/Download_Old_Builds_7_0" class="uri">https://www.virtualbox.org/wiki/Download_Old_Builds_7_0</a>
to see the older versions of VirtualBox, and download the one labelled
“Developer preview for macOS / Arm64 (M1/M2) hosts”.</p>
</div></li>
<li><p>Visit <a href="https://www.vagrantup.com/downloads" class="uri">https://www.vagrantup.com/downloads</a>, download the
appropriate Vagrant package for your platform, and install it.</p>
<ul>
<li>On Windows, the installer is an <code>.msi</code> file you can run
by double-clicking.</li>
<li>On MacOS, you can either download a <code>.dmg</code> file, or (if
you have <a href="https://brew.sh">Homebrew</a> installed) there are
instructions for adding Vagrant with a <code>brew install</code>
command.</li>
<li>On Ubuntu, it’s recommended you install Vagrant using the APT
package manager (see “Package manager for Linux” on the Vagrant
page).</li>
</ul>
<!--
macos old intel: may hit network issue, just google and amend
vagrantfile
--></li>
<li><p>Check that Vagrant has been successfully installed.</p>
<p>On Windows, open a “Command Prompt” window. On MacOS or Linux, open a
terminal window.</p>
<p>Then type <code>vagrant --version</code>; Vagrant should display</p>
<pre><code>Vagrant 2.3.7</code></pre>
<p>(Or something similar – any version from 2.2.0 onwards should be
fine.)</p></li>
<li><p>Test a small virtual machine (VM) image.</p>
<p>On your <em>host machine</em> (i.e. your laptop), create a new
directory (called e.g. <code>vagrant-test</code>), open a terminal
window and <code>cd</code> into the directory. (The <code>cd</code>
command works on Linux, Mac and Windows.)</p>
<p>Type <code>vagrant init generic/alpine316</code>, then
<code>vagrant up --provider=virtualbox</code>. Vagrant should take about
a minute to download a virtual machine containing <a href="https://www.alpinelinux.org">Alpine Linux</a> and configure it for
use.</p>
<p>If you type <code>vagrant ssh</code>, Vagrant will connect to the new
virtual machine using <a href="https://www.ssh.com/academy/ssh"><code>ssh</code></a> and present
you with a shell prompt:</p>
<pre><code>$ vagrant ssh
alpine316:~$</code></pre>
<p>Note that the <a href="https://en.wikipedia.org/wiki/Command-line_interface#Command_prompt">command-line
prompt</a> has now <strong>changed</strong> from the usual terminal
prompt you see. The prompt <code>alpine316:~$</code> indicates that
you’re running commands in an Alpine Linux VM. To be able to run
commands from your host machine again, you need to exit from your SSH
session to the VM. (Or alternatively, of course, you can simply open a
new terminal window.)</p>
<p>You can exit your current SSH session by typing <code>exit</code> or
hitting <code>ctrl-D</code>.</p>
<p>(It’s not strictly necessary, but it’s good practice to also
<em>halt</em> VMs when you’re not using them – you can do so by issuing
the command <code>vagrant halt</code> after you’ve exited the SSH
session.)</p>
<div style="border: solid 2pt orange; border-radius: 5pt; background-color: hsl(22.35, 100%, 85%, 1); padding: 1em;">
<p><strong>Troubleshooting on Linux</strong></p>
<p>Note that on Linux, if you happen to already have
<code>libvirt</code> installed: <code>libvirt</code> and VirtualBox
can’t both run at the same time. Ensure that <code>libvirt</code> isn’t
running by typing <code>sudo systemctl stop libvirtd</code>.</p>
</div>
<div style="border: solid 2pt orange; border-radius: 5pt; background-color: hsl(22.35, 100%, 85%, 1); margin-top: 1em; padding: 1em;">
<p><strong>Troubleshooting on MacOS</strong></p>
<p>If you’re unable to complete this step on a Macintosh computer, and
your lab facilitator is not able to resolve the issue, it’s suggested
that you:</p>
<ol type="a">
<li>for the moment, skip to the task 2, “Concept review questions”, and
carry on from there; and</li>
<li>attend the unit coordinator’s <a href="https://cits3007.github.io/#unit-coordinator">consultation
sessions</a> to troubleshoot any VirtualBox and Vagrant issues
further.</li>
</ol>
</div></li>
<li><p>Download a VM containing the standard CITS3007 development
environment. Note that this will likely take <strong>around 5–10
minutes</strong>, so once you’ve started the process, move onto the next
exercise.</p>
<p>On your <em>host machine</em> (i.e. your laptop), create a new
directory (called e.g. <code>cits3007-test</code>), open a terminal
window and <code>cd</code> into the directory.</p>
<p>Type <code>vagrant init arranstewart/cits3007-ubuntu2004</code>, then
<code>vagrant up --provider=virtualbox</code>. Vagrant should take
around 5–10 minutes to download a virtual machine and configure it for
use. The output from Vagrant should look something like the
following:</p>
<pre><code>Bringing machine &#39;default&#39; up with &#39;virtualbox&#39; provider...
==&gt; default: Importing base box &#39;arranstewart/cits3007-ubuntu2004&#39;...
==&gt; default: Matching MAC address for NAT networking...
==&gt; default: Checking if box &#39;arranstewart/cits3007-ubuntu2004&#39; version &#39;0.1.2&#39; is up to date...
==&gt; default: Setting the name of the VM: xxx-cits3007-test_1658816964468_16898
==&gt; default: Clearing any previously set forwarded ports...
==&gt; default: Fixed port collision for 22 =&gt; 2222. Now on port 2200.
==&gt; default: Clearing any previously set network interfaces...
==&gt; default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
==&gt; default: Forwarding ports...
    default: 22 (guest) =&gt; 2200 (host) (adapter 1)
==&gt; default: Booting VM...
==&gt; default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2200
    default: SSH username: vagrant
    default: SSH auth method: private key
    default: Warning: Connection reset. Retrying...
    default: Warning: Remote connection disconnect. Retrying...
    default: Warning: Connection reset. Retrying...
    default:
    default: Vagrant insecure key detected. Vagrant will automatically replace
    default: this with a newly generated keypair for better security.
    default:
    default: Inserting generated public key within guest...
    default: Removing insecure key from the guest if it&#39;s present...
    default: Key inserted! Disconnecting and reconnecting using new SSH key...
==&gt; default: Machine booted and ready!
==&gt; default: Checking for guest additions in VM...
==&gt; default: Setting hostname...</code></pre>
<p>Once it’s done, you can type <code>vagrant ssh</code> to get shell
access to the new VM:</p>
<pre><code>$ vagrant ssh
vagrant@cits3007-ubuntu2004:~$</code></pre>
<p>Note that again, your terminal prompt has changed – it sould look
like this:</p>
<pre><code>vagrant@cits3007-ubuntu2004:~$</code></pre>
<p>(usually in bright green). The prompt indicates the name of the
current user (“<code>vagrant</code>”)<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, and the hostname for
the machine you are connected to
(“<code>cits3007-ubuntu2004</code>”).</p>
<p>If you want to issue commands on your host machine again (that is, on
your laptop), you’ll need to either</p>
<ul>
<li>exit your current SSH session, either by running the command
<code>exit</code> or by typing <code>ctrl-D</code></li>
<li>open a new terminal window, and issue your commands from there.</li>
</ul>
<p>In particular, trying to run Vagrant commands from within your VM
will <em>not</em> work, since Vagrant has not been installed within the
VM.</p></li>
<li><p>Optional: install VS Code and the “Remote-SSH” extension.</p>
<p>The standard CITS3007 development environment VM comes with the
<code>vim</code> editor already installed, and for some tasks we do, it
will be necessary to use <code>vim</code> or another terminal-based
editor.</p>
<p>However, if you already have VS Code installed and are familiar with
it, we provide instructions on how to configure it for use with a
Vagrant box <a href="/labs/lab01-vs-code.html">here</a>.</p></li>
</ol>
<h4 id="vagrant-cheat-sheet">Vagrant cheat sheet</h4>
<p>You can find a useful “cheat sheet” of commands for managing Vagrant
VMs here: <a href="https://cheatography.com/davbfr/cheat-sheets/vagrant-cheat-sheet/" class="uri">https://cheatography.com/davbfr/cheat-sheets/vagrant-cheat-sheet/</a>.</p>
<h3 id="using-gitpod">Using GitPod</h3>
<p>If you don’t yet have access to a laptop on which you can install
VirtualBox and Vagrant, then for the first couple of labs you can also
use a cloud-based development VM provided by <a href="https://gitpod.io/">GitPod</a>.</p>
<p>We provide instructions on how to use GitPod <a href="/labs/lab01-gitpod.html">here</a>.</p>
<h2 id="concept-review-questions">2. Concept review questions</h2>
<p>If possible, it’s recommended you work on this section in pairs or
small groups and compare answers.</p>
<h3 id="definitions">2.1. Definitions</h3>
<p>For each of the following concepts, review the definition given in
the lecture slides, and explain it in your own words. If you can, give
an example, based on your own experience or from recent news
reports:</p>
<ol type="a">
<li>threat</li>
<li>vulnerability</li>
<li>confidentiality</li>
<li>integrity</li>
<li>availability</li>
</ol>
<h3 id="concepts">2.2. Concepts</h3>
<ol type="a">
<li><p>How would you describe the relationship between threats,
vulnerabilities, and attacks? Give examples to illustrate the
relationship.</p></li>
<li><p>Is it possible for a <em>threat</em> and a <em>vulnerability</em>
to both exist, without there being an attack? Explain why or why
not.</p></li>
<li><p>Consider an ATM, which requires users to provide a bank card and
a PIN in order to perform transactions. Give examples of
<em>confidentiality</em>, <em>integrity</em> and <em>availability</em>
requirements associated with the system. How important do you think each
requirement is – are they all equally important, or does the importance
differ?</p></li>
</ol>
<h2 id="auscert-security-bulletins">3. AusCERT security bulletins</h2>
<p>It’s recommended you complete this exercise in pairs or small groups.
Security Bulletins are sometimes not easy to understand, at first
glance, but by sharing ideas and comparing your understanding with other
students, you should be able to complete the questions in this
section.</p>
<p><a href="http://www.auscert.org.au/">AusCERT</a> is a non-profit
organisation that provides advice on cybersecurity threats and
vulnerabilities. Some of its information is publicly available, and some
is provided only to members.</p>
<p>Visit its website at <a href="http://www.auscert.org.au/" class="uri">http://www.auscert.org.au/</a>, and from the “Resources”
tab, select “Security Bulletins”. (The direct link is <a href="https://auscert.org.au/bulletins/" class="uri">https://auscert.org.au/bulletins/</a>.)</p>
<p>Take a look at several, and try searching for
<code>ASB-2022.0077</code> and <code>ESB-2022.3655</code>. All bulletins
have the following features:</p>
<ul>
<li>They have an <em>ID number</em>. Bulletins with an ID number
beginning with “ESB” are bulletins from external sources, being
redistributed by AusCERT; those beginning with “ASB” are published by
AusCERT itself. The ID number contains 4 digits indicating what year the
bulletin was published, followed by the bulletin number within that
year.</li>
<li>They specify the product affected by some vulnerability, the
operating system affected, and what the <em>resolution</em> (i.e. action
to be taken, in order to mitigate or prevent the vulnerability) is.</li>
<li>They refer to one or more <em>CVE</em> identifiers. The CVE (“Common
Vulnerabilities and Exposures”) identification scheme is provided by the
US-based MITRE organisation. For instance, Auscert’s bulletin
<code>ASB-2022.0129</code> refers to <code>CVE-2022-30168</code>, the
details of which can be found at <a href="https://www.cve.org/CVERecord?id=CVE-2022-30168" class="uri">https://www.cve.org/CVERecord?id=CVE-2022-30168</a>.</li>
<li>They give a CVSS (Common Vulnerability Scoring System) score. This
is a way of quantifying the severity of a vulnerability using a number
from 0 to 10, where 0 is the least severe and 10 the most. Read more
about these severity ratings at <a href="https://nvd.nist.gov/vuln-metrics/cvss" class="uri">https://nvd.nist.gov/vuln-metrics/cvss</a>.</li>
</ul>
<p>Now, find the <code>ESB-2022.1671</code> bulletin and read through
it, and refer to the NIST page on severity ratings at <a href="https://nvd.nist.gov/vuln-metrics/cvss" class="uri">https://nvd.nist.gov/vuln-metrics/cvss</a>. Then answer the
following questions:</p>
<ol type="a">
<li><p>The bulletin is for a patch which fixes a <em>vulnerability</em>.
What is the vulnerability (give a CVE identifier and a description)? In
what product does it occur?</p></li>
<li><p>How severe is the vulnerability? If a vulnerability is severe,
does that necessarily mean it is easy to exploit, and/or has a high
probability of being exploited?</p></li>
</ol>
<p>Locate the CVE information page on <a href="https://www.cve.org" class="uri">https://www.cve.org</a> for this vulnerability, and follow
the links there to find out more about it. Google for the definitions of
any terms you do not know – <a href="https://en.wikipedia.org/">Wikipedia</a> has good summaries of
most terms. Answer the following questions:</p>
<ol start="3" type="a">
<li><p>How could an attacker exploit this vulnerability? Describe a
scenario in which this could occur.</p></li>
<li><p>Of the “C I A” security goals – which ones could be compromised
if this vulnerability were exploited?</p></li>
</ol>
<h2 id="c-development">4. C development</h2>
<div style="border: solid 2pt orange; border-radius: 5pt; background-color: hsl(22.35, 100%, 85%, 1); padding: 1em;">
<p><strong>C language familiarity</strong></p>
<p>Ideally, you should be doing this unit in your 3rd year, and have
familiarity with the C programming language.</p>
<p>You need to either</p>
<ul>
<li>have access to a <strong>good C programming textbook</strong> – see
the CITS3007 <a href="https://cits3007.github.io/resources/#c-programming">“Resources”
page</a> for one recommendation – or</li>
<li>be comfortable searching through and interpreting the C language
pages at <strong><a href="https://en.cppreference.com/" class="uri">https://en.cppreference.com/</a></strong>.</li>
</ul>
<p>Note that YouTube tutorials will <strong>not</strong> be sufficient
as a C reference for this unit – you <strong>must</strong> use a
textbook (or the cppreference.com site). The lab facilitators will not
be able to assist you if you are using video tutorials instead of a C
language reference.</p>
<p>If you are still in the process of purchasing a textbook, the
following sites may provide a helpful refresher:</p>
<ul>
<li>Carl Burch, <a href="http://www.cburch.com/books/cpy/index.html"><em>C for Python
programmers</em></a>
<ul>
<li>Slides based on <a href="https://web.cs.hacettepe.edu.tr/~bbm101/fall16/lectures/w12-c-for-python-programmers.pdf"><em>C
for Python programmers</em></a></li>
</ul></li>
<li>Steven Simpson, <a href="https://ssjools.hopto.org/java2c/alldiffs"><em>Learning C from
Java</em></a></li>
<li>Daniel Weller and Sharat Chikkerur, <a href="https://ocw.mit.edu/courses/6-087-practical-programming-in-c-january-iap-2010/pages/lecture-notes/">Practical
Programming in C</a> (lecture slides)</li>
</ul>
</div>
<h3 id="c-questions">4.1. C questions</h3>
<ol type="a">
<li><p>What is the difference between the C literal values
<code>3</code>, <code>&#39;3&#39;</code>, <code>&quot;3&quot;</code> and <code>3.0</code>?
What is the type of each?</p></li>
<li><p>Consider the following C code:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span> str <span class="op">=</span> <span class="st">&quot;test&quot;</span><span class="op">;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="dt">char</span> c <span class="op">=</span> str<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>c <span class="op">&gt;=</span> <span class="dv">65</span> <span class="op">&amp;&amp;</span> c <span class="op">&lt;=</span> <span class="dv">90</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  printf<span class="op">(</span><span class="st">&quot;high</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>c <span class="op">&gt;=</span> <span class="dv">97</span> <span class="op">&amp;&amp;</span> c <span class="op">&lt;=</span><span class="dv">122</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  printf<span class="op">(</span><span class="st">&quot;low</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  printf<span class="op">(</span><span class="st">&quot;other</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>If this code is executed, what will be printed to the
terminal?</p></li>
<li><p>What is the output of the question (b) code if we change the
string <code>&quot;test&quot;</code> to <code>&quot;TEST&quot;</code>?</p></li>
<li><p>What is the output of the question (b) code if we change the
string <code>&quot;test&quot;</code> to <code>&quot;???&quot;</code>?</p></li>
</ol>
<h3 id="cloning-from-git-and-modifying-c-programs">4.2. Cloning from
<code>git</code> and modifying C programs</h3>
<ol type="1">
<li><p>If you don’t already have one, create an account on <a href="https://github.com">GitHub</a>. <code>ssh</code> into the VM
instance you created in section 1 <a href="%22#c-devel-env">“Setting up
the C development environment”</a> (or, if using GitPod – use the
“terminal” window in GitPod).</p></li>
<li><p>Visit <a href="https://github.com/cits3007/lab01-leap-year" class="uri">https://github.com/cits3007/lab01-leap-year</a> to look at
the sample Git repository for this lab. You can download it by running
(at the terminal)</p>
<pre><code>$ git clone https://github.com/cits3007/lab01-leap-year.git</code></pre>
<p>This will create a directory <code>lab01-leap-year</code> containing
the repository code; <code>cd</code> into it, and run the following
commands to tell <code>git</code> who you are</p>
<pre><code>$ git config --global user.name &#39;John Smith&#39;
$ git config --global user.email &#39;mygithubaccount@users.noreply.github.com&#39;</code></pre>
<p>replacing “John Smith” with your own name, and
<code>mygithubaccount</code> with your GitHub username.</p>
<div style="border: solid 2pt orange; background-color: hsl(22.35, 100%, 85%, 1); padding: 1em;">
<p><strong>Networking issues?</strong></p>
<p>If <code>git clone</code> fails due to network connectivity issues,
here are a couple of quick fixes to try:</p>
<ul>
<li><p>In the VM, run the command</p>
<pre><code>$ echo nameserver 8.8.8.8 | sudo cat -a /etc/resolv.conf</code></pre>
<p>This can fix issues with DNS (“Name or service not known”), as it
points the VM to a Google-maintained DNS server at IP address
8.8.8.8.</p></li>
<li><p>For the moment, try using a different VM image – in a fresh
directory, try <code>vagrant init bento/ubuntu-20.04</code> and repeat
the steps for bringing a VM up.</p>
<p>Within the VM, you’ll want to run
<code>sudo apt install build-essential</code> to ensure <code>gcc</code>
and <code>make</code> are installed. This image will be OK to use for
the next few labs, til we can diagnose the problem.</p></li>
</ul>
</div></li>
<li><p>Build the <code>test_leap</code> program by typing
<code>make</code>, then try running it with various different
command-line arguments:</p>
<pre><code>$ ./test_leap 1901
$ ./test_leap 1900
$ ./test_leap 2000
$ ./test_leap -1
$ ./test_leap -0
$ ./test_leap 9223372036854775807
$ ./test_leap 9223372036854775808
$ ./test_leap foo
$ ./test_leap foo bar</code></pre>
<p>What results do you get? Take a look at the code in
<code>test_leap.c</code>, read the documentation for the
<code>strtol</code> function (by running <code>man strtol</code>), and
explain what is happening in each case.</p></li>
<li><p>Create a repository on GitHub that will hold your own version of
this code. Visit <a href="https://github.com" class="uri">https://github.com</a>, click on the plus (“+”) symbol in
the top right-hand corner of the page, select “new repository”, and give
your repository a name (e.g. “cits3007-test-repo”) under “Repository
name”. (“Owner” should be set to your GitHub account name.)</p>
<p>Then click “Create repository”.</p></li>
<li><p>You’ll need to create an SSH id, for use with GitHub.</p>
<p>Type <code>ssh-keygen</code> in the VM, and hit “<code>enter</code>”
in response to any questions.</p>
<p>Type <code>cat ~/.ssh/id_rsa.pub</code> in the VM – a long line
starting with “<code>ssh-rsa</code>” should be displayed.</p>
<p>Go to “GitHub settings” (top right of the GitHub page, and select
“Settings” from the drop-donw menu), then “SSH and GPG keys”, and click
“new SSH key”.</p>
<p>Give your SSH key a name (e.g. “cits3007 ssh key”), then paste the
output of the <code>cat</code> command into the box marked
<code>key</code>, and click “Add SSH key”.</p></li>
<li><p>In your Linux terminal, type</p>
<pre><code>$ git remote remove origin
$ git remote add origin git@github.com:mygithubaccount/cits3007-test-repo.git
$ git push -u origin master</code></pre>
<p>replacing “<code>cits3007-test-repo</code>” with the name of the
repository you created in step 4, and <code>mygithubaccount</code> with
your GitHub username.</p>
<p>When you originally cloned the repository, you created a local
repository (contained in the VM) which was “linked” to the remote GitHub
repository hosted at <a href="https://github.com/cits3007/lab01-leap-year" class="uri">https://github.com/cits3007/lab01-leap-year</a>.</p>
<p>The commands above remove the link to <a href="https://github.com/cits3007/lab01-leap-year" class="uri">https://github.com/cits3007/lab01-leap-year</a> (since you
don’t have permission to write to that repository), and replace it with
a link to the new repository you <em>can</em> write to.</p>
<p>The SSH key you’ve created consists of two parts – a <em>public</em>
part, located in <code>~/.ssh/id_rsa.pub</code> on the VM, which you can
freely share with anyone, and a <em>private</em> part (located in
<code>~/.ssh/id_rsa</code> on the VM), which you should keep secret. You
will probably want to store these for later use. Running</p>
<pre><code>$ vagrant ssh -- cat ~/.ssh/id_rsa.pub &gt; id_rsa.pub
$ vagrant ssh -- cat ~/.ssh/id_rsa &gt; id_rsa</code></pre>
<p>will copy the files to your host machine so you can use them later.
(Type <code>vagrant upload --help</code> for information on how you can
upload them to another VM.)</p></li>
<li><p>The code in <code>test_leap.c</code> contains an error. The
correct algorithm for determining whether a year is a leap year is
outlined at <a href="https://en.wikipedia.org/wiki/Leap_year#Algorithm" class="uri">https://en.wikipedia.org/wiki/Leap_year#Algorithm</a>, but
the code in <code>test_leap.c</code> incorrectly reports that (for
instance) 1900 is a leap year, when it is not. (Can you spot any other
errors? Feel free to post in the Help3007 forum if you can.)</p>
<p>Fix the code in <code>test_leap.c</code> and test your changes by
trying the values from step 3 again.</p>
<p>Then, when you are satisfied, run the command <code>git push</code>
to push your changes to the GitHub-hosted remote version of your
repository.</p>
<p>Compare your changes with another student’s – are there any
differences between how you fixed the program?</p></li>
</ol>
<h3 id="using-version-control-and-backing-up">4.3. Using version control
and backing up</h3>
<p>If you haven’t used <code>git</code> for version control before, it’s
suggested you work through the “<a href="https://swcarpentry.github.io/git-novice/">Version Control with
Git</a>” exercises published by <a href="https://software-carpentry.org/lessons/index.html">Software
Carpentry</a>:</p>
<ul>
<li><a href="https://swcarpentry.github.io/git-novice/" class="uri">https://swcarpentry.github.io/git-novice/</a></li>
</ul>
<p>If you <em>have</em> used <code>git</code> before, you may still find
the following “cheat sheet” useful for refreshing your memory of Git’s
commands:</p>
<ul>
<li><a href="https://education.github.com/git-cheat-sheet-education.pdf" class="uri">https://education.github.com/git-cheat-sheet-education.pdf</a>
(PDF)</li>
</ul>
<p>It’s expected that you keep your project work for CITS3007 under
version control (so that facilitators can easily see what work you’ve
already done, and what you’re currently trying to do), and that you keep
an up-to-date remote copy of your code with a Git hosting provider such
as GitHub – make sure you <code>git push</code> to it frequently. You
don’t have to use GitHub if you prefer to use another provider (<a href="https://about.gitlab.com">GitLab</a> is another popular one), and
you can even host the repository yourself if you have some reliable way
of doing so.</p>
<p>It’s also expected that you will keep reliable backups of any work
you submit – visit <a href="https://missing.csail.mit.edu/2019/backups/" class="uri">https://missing.csail.mit.edu/2019/backups/</a> for an
explanation of what is a reasonable approach to backing up (namely,
following the “3-2-1” rule). While GitHub is a good offsite location for
hosting source code, you may also wish to back up other sorts of work
and documents. Offsite copies of non-code work can be stored using the
<a href="https://www.it.uwa.edu.au/it-help/storage"><em>student network
storage</em></a>, or alternatively, backup services can be purchased for
as little as $5 per month (e.g. from <a href="https://www.carbonite.com" class="uri">https://www.carbonite.com</a>).<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>Ways of using the student network storage are explained on the UWA
Library page “<a href="https://www.uwa.edu.au/library/Help-and-support/Student-email-and-collaboration-tools">Student
email and collaboration tools</a>”, under the heading “Access the
student collaboration tools”.</p>
<h2 id="moodle-signup-andor-login">5. Moodle signup and/or login</h2>
<p>For upcoming quizzes and tests, we’ll be using the CSSE Moodle
server, available at <a href="https://quiz.jinhong.org" class="uri">https://quiz.jinhong.org</a>.</p>
<p>There is currently one Moodle quiz available – it is not assessed,
but you should attempt it, as the material covered is examinable later.
You can use that quiz to revise or refresh your knowledge of C.</p>
<p>Visit <a href="https://quiz.jinhong.org" class="uri">https://quiz.jinhong.org</a> and sign up with your UWA email
address, then attempt the quiz in your own time, if you don’t finish it
in the lab.</p>
<!-- vim: syntax=markdown tw=72 smartindent :
-->
<aside id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>Conventionally, all Vagrant VMs have a user account
named “vagrant” on them, with the password for the account also set to
“vagrant”. This makes it very easy to log into them. Normally, using a
well-known, easy-to-guess, hard-coded user ID and password would be <a href="https://en.wikipedia.org/wiki/Default_Credential_vulnerability"><em>terrible</em>
security practice</a>.<br />
  But in this case: the VM is only being used for development purposes,
rather than deployed in production; it should only be possible to
connect to the VM from your local computer; and the VM is unlikely to
contain any confidential data of yours. This being so, the use of
default credentials is usually an acceptable risk.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Another option is <a href="https://www.tarsnap.com">Tarsnap</a>, which is very cheap, but
rather complex to set up. The MIT page at <a href="https://missing.csail.mit.edu/2019/backups/" class="uri">https://missing.csail.mit.edu/2019/backups/</a> lists other
backup hosting providers under “Resources”.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</aside>
</body>
</html>
